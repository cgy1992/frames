<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>Frames: More Setup</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Frames
   &#160;<span id="projectnumber">v0.2.2-105-g3244bf1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="gettingstarted.html"><span>Getting&#160;Started</span></a></li>
      <li><a href="basicsintro.html"><span>Basics</span></a></li>
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="reffiles.html"><span>Reference&#160;files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('cppsetup.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">More Setup </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><hr/>
<h2>Logging</h2>
<p>Frames has a built-in logging system to report errors and debug information. It is strongly recommended that errors are put somewhere that developers will notice, up to and including big red text directly on the screen and/or modal dialog warnings. The importance of this is difficult to overstate; in development builds, given a choice between displaying Errors somewhere which may be missed versus simply crashing the game, we recommend crashing the game. After reporting, Frames will attempt to recover from any errors, usually successfully; if the report is never seen, this can make debugging extremely confusing.</p>
<p>(Frames' eagerness to recover from errors is very helpful in release builds.)</p>
<p>There are two locations that debug reports can come from. Each Environment has its own logging configuration, plus there's a global log for events that are not associated with an Environment. It's very easy to set these both up at the same time. Here's replacement code for the original Environment::Create() call, using fictional LOG() and PrintOnScreen() functions - reimplement MyLogger's functions as is appropriate for your project.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>MyLogger : <span class="keyword">public</span> <a class="code" href="classFrames_1_1Configuration_1_1Logger.html">Frames::Configuration::Logger</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  <span class="keywordtype">void</span> <a class="code" href="classFrames_1_1Configuration_1_1Logger.html#ae59530950289b081ff9c267bfdf82cad">LogDebug</a>(<span class="keyword">const</span> std::string &amp;log) {</div>
<div class="line">    LOG(Debug, log);</div>
<div class="line">  }</div>
<div class="line">  </div>
<div class="line">  <span class="keywordtype">void</span> <a class="code" href="classFrames_1_1Configuration_1_1Logger.html#a586163abc662bad24d4dee7ec49abd77">LogError</a>(<span class="keyword">const</span> std::string &amp;log) {</div>
<div class="line">    LOG(Error, log);</div>
<div class="line">    PrintOnScreen(log);</div>
<div class="line">  }</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><a class="code" href="classFrames_1_1Ptr.html">Frames::Configuration::LoggerPtr</a> logger(<span class="keyword">new</span> MyLogger())</div>
<div class="line"></div>
<div class="line">Frames::Configuration::Global globalConfig;</div>
<div class="line">globalConfig.LoggerSet(logger);</div>
<div class="line">Frames::Configuration::Set(globalConfig);</div>
<div class="line"></div>
<div class="line">Frames::Configuration::Local localConfig;</div>
<div class="line">localConfig.LoggerSet(logger);</div>
<div class="line">localConfig.RendererSet(Frames::RendererOpengl());</div>
<div class="line">environment = Frames::Environment::Create(localConfig);</div>
</div><!-- fragment --><p>All classes stored in <a class="el" href="classFrames_1_1Configuration_1_1Global.html" title="Configuration data not associated with an Environment. ">Frames::Configuration::Global</a> or <a class="el" href="classFrames_1_1Configuration_1_1Local.html" title="Configuration data associated with an Environment. ">Frames::Configuration::Local</a> are refcounted and will be cleaned up when appropriate. </p><hr/>
<h2>Resources</h2>
<p>You may want to hook Frames into your resource loading system. If you're using loose files relative to the working directory, you won't need to make any changes. If you're reading from a dedicated data directory or from some sort of archive file, you'll want to look into the <a class="el" href="basicsresources.html">Resources</a> documentation. Note that Frames does not currently provide support for asynchronous loading - if this is necessary for your project, please contact us. </p><hr/>
<h2>Defaults</h2>
<p>You should also give Frames the name of a default font resource to use. Unless you've modified the resource configuration, this will refer to a file loaded out of your project's working directory.</p>
<div class="fragment"><div class="line"><a class="code" href="classFrames_1_1Configuration_1_1Local.html">Frames::Configuration::Local</a> localConfig;</div>
<div class="line">localConfig.<a class="code" href="classFrames_1_1Configuration_1_1Local.html#aa317edb0dd890ea7859eee8c79e3265e">FontDefaultIdSet</a>(<span class="stringliteral">&quot;data/arial.ttf&quot;</span>);</div>
<div class="line">localConfig.<a class="code" href="classFrames_1_1Configuration_1_1Local.html#ae560a1f996c28e4285986e2513f97ba9">RendererSet</a>(Frames::RendererOpengl());</div>
<div class="line">environment = <a class="code" href="classFrames_1_1Environment.html#a2094a77e9620f1efeb314426c5701433">Frames::Environment::Create</a>(localConfig);</div>
</div><!-- fragment --><p>Once you've done this, you should be able to test text rendering, as well as somewhat more advanced layout.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;frames/text.h&gt;</span></div>
</div><!-- fragment --><div class="fragment"><div class="line"><span class="comment">// Create a Frame called Backdrop and a Text element called Hello World</span></div>
<div class="line"><a class="code" href="classFrames_1_1Frame.html">Frames::Frame</a> *backdrop = <a class="code" href="classFrames_1_1Frame.html#a798e56199e43aedddcc779a77eccd967">Frames::Frame::Create</a>(environment-&gt;RootGet(), <span class="stringliteral">&quot;Backdrop&quot;</span>);</div>
<div class="line"><a class="code" href="classFrames_1_1Text.html">Frames::Text</a> *helloworld = <a class="code" href="classFrames_1_1Text.html#a9df4b9f632ee7f7777efaf538109e2ee">Frames::Text::Create</a>(backdrop, <span class="stringliteral">&quot;Hello World&quot;</span>);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Set the backdrop to render in blue, then attach it to helloworld&#39;s position, extending slightly beyond its bounds</span></div>
<div class="line">backdrop-&gt;<a class="code" href="classFrames_1_1Frame.html#a64710bf5c347dd6a0c6315362d398377">BackgroundSet</a>(<a class="code" href="classFrames_1_1Color.html">Frames::Color</a>(0.f, 0.f, 1.f));</div>
<div class="line">backdrop-&gt;<a class="code" href="classFrames_1_1Frame.html#a8d61c5bc36813d11b3e1b3766d95be60">PinSet</a>(Frames::TOPLEFT, helloworld, Frames::TOPLEFT, -5, -5);</div>
<div class="line">backdrop-&gt;<a class="code" href="classFrames_1_1Frame.html#a8d61c5bc36813d11b3e1b3766d95be60">PinSet</a>(Frames::BOTTOMRIGHT, helloworld, Frames::BOTTOMRIGHT, 5, 5);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Set the text for helloworld</span></div>
<div class="line">helloworld-&gt;TextSet(<span class="stringliteral">&quot;Hello, World!&quot;</span>);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Place helloworld in the center of the screen</span></div>
<div class="line">helloworld-&gt;PinSet(Frames::CENTER, environment-&gt;RootGet(), Frames::CENTER);</div>
</div><!-- fragment --><div class="image">
<img src="helloworld_setup_ref0.png" alt="helloworld_setup_ref0.png"/>
</div>
 <hr/>
<h2>Input</h2>
<p>Finally, you may want to start feeding input into Frames. If you're handling standard Win32 API functions, you can take advantage of a built-in convenience function of Frames. Place this inside your WndProc:</p>
<div class="fragment"><div class="line"><a class="code" href="classFrames_1_1Input_1_1Sequence.html">Frames::Input::Sequence</a> sequence;</div>
<div class="line"><span class="keywordflow">if</span> (Frames::InputGatherWin32(&amp;sequence, hwnd, message, wParam, lParam)) {</div>
<div class="line">  <span class="comment">// Depending on where environment is, you may need to find a way to get its reference inside your WndProc.</span></div>
<div class="line">  sequence.<a class="code" href="classFrames_1_1Input_1_1Sequence.html#a08dccf99f6c95d9726837b029ca317bf">Process</a>(environment);</div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><p>If you're using some wrapper library or processing input events separately, you'll have to handle this yourself. You can call Frames::Environment::Input_* functions one at a time, or use <a class="el" href="classFrames_1_1Input_1_1Command.html" title="Represents a single input command that can be sent to the Environment. ">Frames::Input::Command</a> and <a class="el" href="classFrames_1_1Input_1_1Sequence.html" title="Represents a stream of input commands that can be sent to the Environment. ">Frames::Input::Sequence</a> objects to pass input sequences around conveniently. If you're using a common third-party library that we do not yet provide convenience functions for, please let us know so we can add support in a later version!</p>
<p>Once you've done these steps, Frames is fully set up and functional. From here, you should start reading through the <a class="el" href="basicsintro.html">Basics</a>. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Aug 21 2014 07:58:24 for Frames by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.7 </li>
  </ul>
</div>
</body>
</html>
